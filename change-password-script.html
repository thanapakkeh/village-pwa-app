
<script>
  const apiUrl = "https://script.google.com/macros/s/AKfycbzz3O5VTs9TaiXrtyheptUZmYe5_KUY5un3GWfGgnZ5hes3dvhKKvsIzQzJihzaTYcqdA/exec";

  async function changePassword(userId, newPassword) {
    try {
      const response = await fetch(apiUrl, {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          id: userId,
          password: newPassword
        })
      });
      const result = await response.text();
      if (result === "success") {
        alert("เปลี่ยนรหัสผ่านเรียบร้อยแล้ว");
      } else {
        alert("เกิดข้อผิดพลาด: " + result);
      }
    } catch (error) {
      alert("ไม่สามารถเชื่อมต่อ API ได้");
    }
  }
</script>
